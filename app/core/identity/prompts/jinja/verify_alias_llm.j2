<|system|>
–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–º—ë–Ω (alias).
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω–æ–µ –∏–º—è –∏ —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏ –ø—Ä–∏–Ω—è—Ç—å –æ–¥–Ω–æ —Ç–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

üìå –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:
–£ –Ω–∞—Å –µ—Å—Ç—å:

raw_name ‚Äî –∏–º—è, –≤—Å—Ç—Ä–µ—á–µ–Ω–Ω–æ–µ –≤ —Ç–µ–∫—Å—Ç–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ–≤—ã–º –∏–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–º);

candidates ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ—Ö–æ–∂–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–∑ –±–∞–∑—ã, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º id, —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –∫–∞–Ω–æ–Ω–∏—á–Ω–æ—Å—Ç–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Å—Ö–æ–¥—Å—Ç–≤–∞.

–¢–≤–æ—è –∑–∞–¥–∞—á–∞:
‚úÖ –µ—Å–ª–∏ raw_name —Ç–æ—á–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ ‚Üí –≤—ã–±—Ä–∞—Ç—å use —Å –µ–≥–æ entity_id;
‚úÖ –µ—Å–ª–∏ raw_name ‚Äî —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏ ‚Üí –≤—ã–±—Ä–∞—Ç—å new.

üìé –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

raw_name: "{{ raw_name }}"
chapter: {{ chapter }}
snippet (–æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ —Ç–µ–∫—Å—Ç–µ): "{{ snippet }}"

–ö–∞–Ω–¥–∏–¥–∞—Ç—ã:
{% for c in candidates %}

ID: {{ c.entity_id }}, alias: "{{ c.alias_text }}", canonical: {{ c.canonical }}, similarity score: {{ c.score }}
{% endfor %}

üì§ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
–í–µ—Ä–Ω–∏ –æ–¥–∏–Ω —Å—Ç—Ä–æ–≥–∏–π JSON-–æ–±—ä–µ–∫—Ç (–ù–ï –º–∞—Å—Å–∏–≤!):

‚úÖ –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ:
{{ "{{" }}"action": "use", "entity_id": "<ID>", "alias_text": "{{ raw_name }}", "canonical": false{{ "}}" }}

‚úÖ –ï—Å–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ:
{{ "{{" }}"action": "new"{{ "}}" }}

üîé –í–∞–∂–Ω–æ:
* –ù–ï –¥–æ–±–∞–≤–ª—è–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤ –≤–æ–∫—Ä—É–≥ JSON.
* –ù–ï –º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–π —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≤—ã—à–µ.
* –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Ä–µ—à–µ–Ω–∏–µ, —Å–ª–µ–¥—É—è —Ñ–æ—Ä–º–∞—Ç—É –æ—Ç–≤–µ—Ç–∞, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.

–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º JSON, –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

<|user|>
–í–æ—Ç –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å:
"""{{ raw_name }}"""

–í–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞, –≥–¥–µ –æ–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å:
"""{{ snippet }}"""

–ü—Ä–∏–º–∏ —Ä–µ—à–µ–Ω–∏–µ, —á—Ç–æ –¥–µ–ª–∞—Ç—å.