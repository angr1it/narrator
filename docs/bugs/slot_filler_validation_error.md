# SlotFiller validation error

## Проблема
Запрос `/augment-context` завершается ошибкой, если `SlotFiller` возвращает некорректные значения. В логах появляется `ValidationError` от Pydantic.

## Контекст
`AugmentPipeline` вызывает `SlotFiller.fill_slots`, который использует `call_llm_with_json_list`. Когда LLM выдаёт `null` или неверный тип поля, `ResponseList.model_validate` бросает исключение и вся обработка останавливается.

## Причина
Некоторые шаблоны допускают необязательные слоты. При отсутствии данных модель может вернуть `null`, что не соответствует заявленным типам.

## Последствия
Один сбойный шаблон прекращает выполнение всей операции и клиент получает 500.

## Планируемые изменения
Временно перехватывать `ValidationError` в пайплайне, логировать подробности (ID шаблона, текст) и продолжать обработку остальных шаблонов.

## Локация
- `app/services/pipeline.py`

## Улучшения
В дальнейшем стоит валидировать и нормализовать ответы LLM до передачи в Pydantic.

## Деплой
Не требуется.

## Проверка
- Unit-тест: пайплайн продолжает работу, если один из шаблонов завершился `ValidationError`.
