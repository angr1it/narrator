# Bug Report: unsupported weaviate UUID type

## Проблема
При запросе `/extract-save` сервис отвечает 500 и в логах появляется `ValueError: Values of type <class 'weaviate.util._WeaviateUUIDInt'> are not supported`. Ошибка возникает на этапе сохранения `raptor_node_id` в Neo4j.

## Контекст
`ExtractionPipeline.extract_and_save` вызывает `graph_proxy.run_query` для обновления узла `Chunk`. Передаётся значение `_WeaviateUUIDInt`, полученное из Weaviate. Драйвер Neo4j не умеет сериализовать этот тип, что приводит к падению запроса.

## Причина
Мы напрямую передаём объект `_WeaviateUUIDInt` в Cypher-запрос, не преобразуя его в строку. В результате `packstream` не может упаковать значение и выбрасывает исключение.

## Последствия
Пайплайн останавливается с ошибкой 500. Данные не сохраняются в граф, дальнейшие запросы не работают.

## Планируемые изменения
1. Преобразовать `raptor_node_id` в `str` перед отправкой в Neo4j.
2. Добавить тест, проверяющий вызов `graph_proxy.run_query` со строковым ID.
3. Создать helper для конвертации идентификаторов Weaviate в строку и использовать его в пайплайне.

## Локация
- `app/services/pipeline.py`
- возможно, конфигурация Weaviate клиента
- тесты в `app/tests/`

## Улучшения
Создать helper для конвертации идентификаторов Weaviate в строку, чтобы избежать подобных ошибок в будущем.

## Деплой
Обновить контейнер после внесения изменений. Дополнительных миграций не требуется.

## Проверка
- `pytest -q`
- ручной вызов `/extract-save` для документа с `raptor_node_id` из Weaviate

## Отчёт
После исправления `raptor_node_id` сохраняется как строка, запрос проходит без ошибок.
