# Bug Report: invalid LLM items cause ValidationError

## Проблема
`call_llm_with_json_list` падает с `ValidationError`, если модель возвращает элементы
с `null` или пропущенными полями.

## Контекст
При вызове `/extract-save` или `/augment-context` `SlotFiller` пользуется этим
хелпером. Один некорректный объект останавливает всю обработку.

## Причина
`ResponseList.model_validate` проверяет список целиком и не игнорирует плохие
объекты.

## Последствия
Пайплайн завершается ошибкой 500, хотя остальные элементы могут быть валидны.

## Планируемые изменения
Перехватывать `ValidationError` в хелпере и отбрасывать неверные объекты,
продолжая работу.

## Локация
- `app/utils/helpers/llm.py` – фильтрация при валидации ответа.
- `app/tests/unit/utils/helpers/test_llm.py` – новый тест.

## Улучшения
Следует тщательнее описывать формат вывода в промптах, чтобы LLM не
возвращала пустые значения.

## Деплой
Не требуется.

## Проверка
- Запуск `pytest -q` – новый тест демонстрирует, что некорректные объекты
игнорируются.

## Меры по неповторению
Юнит-тест фиксирует поведение фильтрации.

## Отчёт
После фикса сервис продолжает работу даже при частично неверном ответе LLM.
